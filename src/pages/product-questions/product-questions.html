<ion-header>
  <ion-navbar>
    <ion-title>Preguntas</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="searchPage()">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content class="outer-content cards-bg social-cards">

	<ion-grid fixed>

		<ion-card *ngFor="let question of data" style="margin-bottom: 5px;">
			<ion-card-content style="padding-bottom: 0;">
				<ion-list no-lines>
					
					<ion-item text-wrap>
						<ion-icon name="text" item-start color="primary"></ion-icon>
						<h2>{{question.buyer.nombres}} {{question.buyer.apellidos}}</h2>
						<p>{{question.consulta}}</p>
						<!-- <ion-note item-end>
							{{question.created_at | amLocale:'es' | amTimeAgo}}
						</ion-note> -->
					</ion-item>

					<ion-item margin-left *ngIf="question.respuesta" text-wrap>
						<ion-icon name="text" item-start class="response" color="primary"></ion-icon>
						<p>{{question.respuesta}}</p>
						<!-- <ion-note item-end>{{question.updated_at | amLocale:'es' | amTimeAgo}}</ion-note> -->
					</ion-item>

					<ion-item no-margin>
						<ion-row justify-content-start no-margin>
							<ion-col align-self-center>
								<ion-note>
									{{question.updated_at | amLocale:'es' | amTimeAgo}}
								</ion-note>
							</ion-col>
						</ion-row>
					</ion-item>

				</ion-list>
			</ion-card-content>
		</ion-card>

		<ion-infinite-scroll *ngIf="hasMore" (ionInfinite)="doInfinite($event)">
		  <ion-infinite-scroll-content></ion-infinite-scroll-content>
		</ion-infinite-scroll>

		<ion-row *ngIf="!data.length"> 
			<ion-col align-self-center text-center>
				<p>Nadie ha realizado preguntas todavía. ¡Anímate a preguntar!</p>
			</ion-col>
		</ion-row>

	</ion-grid>

</ion-content>
