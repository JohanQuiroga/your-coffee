<!--
  Generated template for the SearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar no-border>
    <ion-searchbar #searchInput animated showCancelButton autofocus placeholder="¿Qué estas buscando?" (ionInput)="getItems($event)" (ionCancel)="cancelSearch($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content padding>

	<ion-list>
		<ion-item-group>
			<ion-item-divider color="light">Productos</ion-item-divider>
			<ng-template ngFor let-product [ngForOf]="products" let-i="index">

				<button ion-item (click)="seeProduct(product)">
					<ion-icon md="ios-arrow-forward-outline" item-end></ion-icon>
					<ion-thumbnail item-start>
						<img src="{{apiURL}}/storage/get/{{product.fotos['0'].path}}/{{product.fotos['0'].nombreArchivo}}">
					</ion-thumbnail>

					<h2>{{product.nombre}}</h2>
			      	<p>por, {{product.proveedor.nombres}} {{product.proveedor.apellidos}}</p>
				</button>

			</ng-template>
		 	<ion-item *ngIf="products.length === 0">
		 		¡No hay resultados!
		 	</ion-item>	
		</ion-item-group>

		<ion-item-group>
			<ion-item-divider color="light">Proveedores</ion-item-divider>

			<ng-template ngFor let-provider [ngForOf]="providers" let-i="index">

				<button ion-item (click)="seeProvider(provider)">
					<ion-icon md="ios-arrow-forward-outline" item-end></ion-icon>
					<ion-thumbnail item-start>
						<img src="{{apiURL}}/storage/get/{{provider.fotos['0'].path}}/{{provider.fotos['0'].nombreArchivo}}">
					</ion-thumbnail>

					<h2>{{provider.nombres}} {{provider.apellidos}}</h2>
					<p>Finca {{provider.nombreFinca}}</p>
				</button>

			</ng-template>
			<ion-item *ngIf="providers.length === 0">
		 		¡No hay resultados!
		 	</ion-item>	
				
		</ion-item-group>
	</ion-list>
</ion-content>
